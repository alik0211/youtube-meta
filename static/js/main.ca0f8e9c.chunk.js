(this["webpackJsonpyoutube-meta"]=this["webpackJsonpyoutube-meta"]||[]).push([[0],{22:function(e,t,n){e.exports=n(37)},31:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(19),o=n.n(c),i=n(5),s=n(2),u=n(3),l=n(6),p=n(4),f=n(7);n(31);var d=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={searchString:"",error:null},n.handleChange=function(e){n.setState({searchString:e.currentTarget.value})},n.handleSubmit=function(e){e.preventDefault(),n.setState({error:null}),n.props.getVideo(function(e){try{var t=new URL(e),n=t.hostname;if(["www.youtube.com","m.youtube.com"].includes(n))return t.searchParams.get("v");if("youtu.be"===n)return t.pathname.slice(1)}catch(r){return e}return e}(n.state.searchString)).then((function(e){return e.error&&n.setState({error:e.payload.message}),e}))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.error,n=e.searchString,r=this.props.isFetched;return a.a.createElement("div",{className:"search"},a.a.createElement("div",{className:"search__inner"},a.a.createElement("form",{onSubmit:this.handleSubmit,className:"search__form"},a.a.createElement("input",{type:"text",placeholder:"Video url or id",onChange:this.handleChange,value:n,className:"search__input",disabled:r,autoFocus:!0}),a.a.createElement("button",{type:"submit",className:"search__button",disabled:r},"Search"),!!t&&a.a.createElement("div",{className:"search__error"},t))))}}]),t}(a.a.Component),b=n(1),h=n(10),m=n.n(h),O=n(13),y=n(8),E={getVideo:function(e){return function(t){return t(Object(b.a)({},y.RSAA,{endpoint:"https://www.googleapis.com/youtube/v3/videos?key=".concat("AIzaSyD0hggYK6pg1mfenY7f712uajjtd6-R7WU","&part=snippet&id=").concat(e),method:"GET",types:["GET_VIDEO_REQUEST","GET_VIDEO_SUCCESS","GET_VIDEO_FAILURE"],fetch:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(Object(O.a)(m.a.mark((function t(){var n,r,a=arguments;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch.apply(void 0,a);case 2:return n=t.sent,t.next=5,n.json();case 5:if(0!==(r=t.sent).items.length){t.next=8;break}throw new y.ApiError(404,'No video found with "'.concat(e,'" id'));case 8:return t.abrupt("return",new Response(JSON.stringify(r.items[0]),{headers:{"Content-Type":"application/json"}}));case 9:case"end":return t.stop()}}),t)}))))})).then((function(e){if(e.error)return e;var n=e.payload.snippet.categoryId;return t(function(e){return function(t){return t(Object(b.a)({},y.RSAA,{endpoint:"https://www.googleapis.com/youtube/v3/videoCategories?key=".concat("AIzaSyD0hggYK6pg1mfenY7f712uajjtd6-R7WU","&part=snippet&id=").concat(e),method:"GET",types:["GET_CATEGORY_REQUEST","GET_CATEGORY_SUCCESS","GET_CATEGORY_FAILURE"],fetch:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(Object(O.a)(m.a.mark((function t(){var n,r,a=arguments;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch.apply(void 0,a);case 2:return n=t.sent,t.next=5,n.json();case 5:if(0!==(r=t.sent).items.length){t.next=8;break}throw new y.ApiError(404,'No category found with "'.concat(e,'" id'));case 8:return t.abrupt("return",new Response(JSON.stringify(r.items[0]),{headers:{"Content-Type":"application/json"}}));case 9:case"end":return t.stop()}}),t)}))))}))}}(n)),e}))}}},v=Object(i.b)((function(e,t){return{isFetched:e.videos.isFetched}}),E)(d),j=(n(33),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.video;if(!e)return null;var t=e.snippet;return a.a.createElement("div",{className:"info"},a.a.createElement("div",{className:"info__inner"},a.a.createElement("table",{className:"info__table"},a.a.createElement("tbody",{className:"info__tbody"},Object.keys(t).map((function(e){return function(e){return["thumbnails","localized"].includes(e)}(e)?null:a.a.createElement("tr",{className:"info__item",key:e},a.a.createElement("td",{className:"info__item-name"},e),a.a.createElement("td",{className:"info__item-value"},function(e,t){switch(e){case"publishedAt":return new Date(t).toLocaleString();case"description":return t.split("\n").map((function(e,t){return a.a.createElement(r.Fragment,{key:t},e,a.a.createElement("br",null))}));case"tags":return t.join(", ");default:return t}}(e,t[e])))}))))))}}]),t}(a.a.Component));function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=Object(i.b)((function(e,t){var n=e.videos,r=n.collection,a=n.currentVideo,c=e.categories.collection;if(!a)return{video:null};var o=r[a],i=o.snippet.categoryId;return i in c&&(o=_({},o,{snippet:_({id:o.id},o.snippet,{category:c[i].snippet.title})})),{video:o}}),{})(j),S=(n(34),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"footer"},a.a.createElement("div",{className:"footer__inner"},"Source code on"," ",a.a.createElement("a",{href:"https://github.com/alik0211/youtube-meta"},"GitHub")))}}]),t}(a.a.Component)),T=(n(35),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"app"},a.a.createElement("main",{className:"app__content"},a.a.createElement("div",{className:"app__search"},a.a.createElement(v,null)),a.a.createElement("div",{className:"app__info"},a.a.createElement(w,null))),a.a.createElement("footer",{className:"app__footer"},a.a.createElement(S,null)))}}]),t}(r.Component)),P=Object(i.b)((function(e,t){return{}}),{})(T),C=n(9),N=n(21);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R={collection:{},currentVideo:null,isFetched:!1};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F={collection:{},isFetched:!1},I=Object(C.c)({videos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_VIDEO_REQUEST":return G({},e,{isFetched:!0});case"GET_VIDEO_SUCCESS":var n=t.payload;return G({},e,{collection:G({},e.collection,Object(b.a)({},n.id,n)),currentVideo:n.id,isFetched:!1});case"GET_VIDEO_FAILURE":return G({},e,{isFetched:!1});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORY_REQUEST":return k({},e,{isFetched:!0});case"GET_CATEGORY_SUCCESS":var n=t.payload;return k({},e,{collection:k({},e.collection,Object(b.a)({},n.id,n)),isFetched:!1});case"GET_CATEGORY_FAILURE":return k({},e,{isFetched:!1});default:return e}}});n(36);var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(C.d)(I,e,Object(C.a)(N.a,y.apiMiddleware))}();o.a.render(a.a.createElement(i.a,{store:U},a.a.createElement(P,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.ca0f8e9c.chunk.js.map